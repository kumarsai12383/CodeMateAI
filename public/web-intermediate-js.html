<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      crossorigin="anonymous"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodeMateAI</title>
    <link rel="icon" type="image/png" href="edu logo icon.jpg" />
    <link rel="stylesheet" href="welcome.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <style>
      #html-quiz-section {
        margin-left: 260px;
        max-width: 700px;
      }
      @media (max-width: 768px) {
        #html-quiz-section {
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
      }
      body {
        background: linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%);
        min-height: 100vh;
      }
      h1 {
        font-weight: 700;
        color: #2c3e50;
        letter-spacing: 1px;
      }
      .card {
        border: none;
        border-radius: 1rem;
        transition: transform 0.2s, box-shadow 0.2s;
        background: #fff;
      }
      .card:hover {
        transform: translateY(-8px) scale(1.03);
        box-shadow: 0 8px 32px rgba(44, 62, 80, 0.15);
      }
      .card-title {
        color: #007bff;
        font-weight: 600;
        font-size: 1.25rem;
      }
      .card-text {
        color: #34495e;
        font-size: 1rem;
      }
      .btn-primary {
        background: linear-gradient(90deg, #007bff 0%, #00c6ff 100%);
        border: none;
        font-weight: 500;
        box-shadow: 0 2px 8px rgba(0, 123, 255, 0.12);
      }
      .btn-primary:hover {
        background: linear-gradient(90deg, #0056b3 0%, #00aaff 100%);
      }
      .row.g-4 {
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <!-- Sidebar and Topbar (copy structure from your Bootstrap intermediate page, adjust links as needed) -->
    <div class="container-fluid" style="background: #f5f7fa; min-height: 100vh">
      <div class="row">
        <!-- Sidebar: Responsive, custom toggle -->
        <div id="sidebarMenu" class="sidebar-menu">
          <div
            class="sidebar-header d-flex d-md-none justify-content-between align-items-center px-3 py-2"
            style="border-bottom: 1px solid #e0e0e0"
          >
            <span style="font-weight: 600; color: #1976d2"></span>
            <button
              id="sidebarClose"
              class="btn btn-sm btn-outline-secondary"
              aria-label="Close sidebar"
            >
              <i class="fa fa-times" style="font-size: 1.5rem"></i>
            </button>
          </div>
          <div class="d-flex flex-column align-items-center mb-4 pt-3">
            <img
              src="edu_logo-welcome.png"
              alt="EduSkills Academy"
              style="width: 120px"
            />
          </div>
          <ul class="nav flex-column">
            <li class="nav-item mb-2">
              <span
                class="nav-link"
                style="
                  color: #34495e;
                  font-weight: 600;
                  background: #e3eafc;
                  border-radius: 8px;
                "
                >Web Development - Intermediate Courses</span
              >
            </li>
            <li class="nav-item mb-2">
              <a
                class="nav-link"
                style="color: #1976d2; font-weight: 500"
                href="web-intermediate-html.html"
                >HTML-intermediate</a
              >
            </li>
            <li class="nav-item mb-2">
              <a
                class="nav-link"
                style="color: #1976d2; font-weight: 500"
                href="web-intermediate-css.html"
                >CSS-intermediate</a
              >
            </li>
            <li class="nav-item mb-2">
              <a
                class="nav-link"
                style="color: #1976d2; font-weight: 500"
                href="web-intermediate-bootstrap.html"
                >Bootstrap-Beginner</a
              >
            </li>
            <li class="nav-item mb-2">
              <a
                class="nav-link"
                style="
                  color: #34495e;
                  font-weight: 600;
                  background: #e3eafc;
                  border-radius: 8px;
                "
                href="web-intermediate-js.html"
                >JavaScript-intermediate</a
              >
            </li>
          </ul>
          <div
            class="px-3 pb-3"
            style="position: absolute; bottom: 0; left: 0; width: 100%"
          >
            <label
              for="htmlProgressBar"
              style="font-size: 0.95rem; color: #1976d2; font-weight: 500"
              >JS Progress</label
            >
            <div
              class="progress"
              style="height: 18px; background: #e3eafc; border-radius: 8px"
            >
              <div
                id="htmlProgressBar"
                class="progress-bar bg-success"
                role="progressbar"
                style="width: 0%; border-radius: 8px; font-weight: 600"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                0%
              </div>
            </div>
          </div>
        </div>
        <!-- Topbar for mobile toggle -->
        <header
          class="navbar navbar-light bg-white d-md-none px-3"
          style="border-bottom: 1px solid #e0e0e0"
        >
          <button
            class="navbar-toggler"
            type="button"
            id="sidebarToggle"
            aria-label="Toggle navigation"
            style="display: inline-block"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <span style="color: #1b82f1;" class="navbar-brand mb-0 h1 d-block d-md-none"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5"/>
</svg>Select modules here</span>
        </header>
        <style>
          .sidebar-menu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 240px;
            background: #fff;
            border-right: 1px solid #e0e0e0;
            z-index: 1040;
            transition: transform 0.3s ease;
          }
          @media (max-width: 767.98px) {
            .sidebar-menu {
              transform: translateX(-100%);
            }
            .sidebar-menu.active {
              transform: translateX(0);
            }
            main {
              padding-top: 56px !important;
            }
          }
          @media (min-width: 768px) {
            .sidebar-menu {
              transform: none !important;
            }
          }
        </style>
        <script>
          // Sidebar toggle for mobile
          document.addEventListener("DOMContentLoaded", function () {
            var sidebar = document.getElementById("sidebarMenu");
            var toggleBtn = document.getElementById("sidebarToggle");
            var closeBtn = document.getElementById("sidebarClose");
            if (toggleBtn && sidebar) {
              toggleBtn.addEventListener("click", function (e) {
                e.preventDefault();
                sidebar.classList.add("active");
                toggleBtn.style.display = "none";
              });
            }
            if (closeBtn && sidebar) {
              closeBtn.addEventListener("click", function (e) {
                e.preventDefault();
                sidebar.classList.remove("active");
                toggleBtn.style.display = "inline-block";
              });
            }
            // Close sidebar when clicking a nav link (mobile only)
            var navLinks = sidebar.querySelectorAll(".nav-link");
            navLinks.forEach(function (link) {
              link.addEventListener("click", function () {
                if (window.innerWidth < 768) {
                  sidebar.classList.remove("active");
                  toggleBtn.style.display = "inline-block";
                }
              });
            });
          });
        </script>
        <!-- Main Content -->
        <main
          class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-5"
          style="margin-left: auto"
        >
          <div
            class="d-flex align-items-center justify-content-center mt-2 mb-2"
            style="font-size: 1rem; color: #d97706"
          >
            <span
              class="me-2"
              style="display: inline-block; vertical-align: middle"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-exclamation-circle"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"
                />
                <path
                  d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"
                />
              </svg>
            </span>
            <span style="font-size: 0.98rem"
              >Get your certificate after completing all courses</span
            >
          </div>
          <h1 class="mb-4 text-center d-md-block">
            JavaScript Intermediate Course
          </h1>
          <div class="d-flex justify-content-center mb-4">
            <div
              style="
                border-radius: 1rem;
                box-shadow: 0 8px 32px rgba(44, 62, 80, 0.15);
                overflow: hidden;
                background: #fff;
                width: 100vw;
                max-width: 100vw;
                margin-left: -12px;
              "
            >
              <video
                id="courseVideo"
                src="AI edu - Made with Clipchamp.mp4"
                loop
                muted
                playsinline
                style="
                  width: 100%;
                  max-width: 700px;
                  height: auto;
                  margin-left: auto;
                  margin-right: auto;
                  display: block;
                  background: #222;
                  border-radius: 1rem;
                  box-shadow: 0 4px 24px rgba(44, 62, 80, 0.12);
                "
              >
                Sorry, your browser does not support embedded videos.
              </video>
              <div
                class="text-center py-2"
                style="font-weight: 600; color: #1976d2; font-size: 1.1rem"
              >
                Your 3D AI Professor
              </div>
              <div class="d-flex justify-content-center gap-2 mb-3">
                <button id="startCourseBtn" class="btn btn-success">
                  <i class="fa fa-play"></i> Start Course
                </button>
                <button id="stopCourseBtn" class="btn btn-danger">
                  <i class="fa fa-stop"></i> Stop Course
                </button>
              </div>
              <div id="htmlTranscript" class="p-3">
                <h2>JavaScript Intermediate Course</h2>
                <p><strong>What you'll learn:</strong></p>
                <ul>
                  <li>
                    <strong>Advanced Functions:</strong> Closures, callbacks,
                    arrow functions, and higher-order functions.
                  </li>
                  <li>
                    <strong>Objects & Prototypes:</strong> Object creation,
                    inheritance, and prototype chain.
                  </li>
                  <li>
                    <strong>ES6+ Features:</strong> let/const, template
                    literals, destructuring, spread/rest, classes, modules.
                  </li>
                  <li>
                    <strong>DOM Manipulation:</strong> Selecting, modifying, and
                    creating elements dynamically.
                  </li>
                  <li>
                    <strong>Events:</strong> Event listeners, event delegation,
                    and custom events.
                  </li>
                  <li>
                    <strong>Async JavaScript:</strong> Promises, async/await,
                    fetch API.
                  </li>
                  <li>
                    <strong>Error Handling:</strong> try/catch, custom errors.
                  </li>
                  <li>
                    <strong>Best Practices:</strong> Clean code, debugging, and
                    performance tips.
                  </li>
                </ul>
                <h3 class="mt-4" style="color: #1976d2">
                  Recommended JavaScript Learning Portals
                </h3>
                <ul>
                  <li>
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript"
                      target="_blank"
                      rel="noopener"
                      style="color: #007bff"
                      >MDN JavaScript Docs</a
                    >
                  </li>
                  <li>
                    <a
                      href="https://javascript.info/"
                      target="_blank"
                      rel="noopener"
                      style="color: #007bff"
                      >JavaScript.info</a
                    >
                  </li>
                  <li>
                    <a
                      href="https://www.freecodecamp.org/learn/javascript-algorithms-and-data-structures/"
                      target="_blank"
                      rel="noopener"
                      style="color: #007bff"
                      >freeCodeCamp: JavaScript</a
                    >
                  </li>
                  <li>
                    <a
                      href="https://www.codecademy.com/learn/introduction-to-javascript"
                      target="_blank"
                      rel="noopener"
                      style="color: #007bff"
                      >Codecademy: JavaScript</a
                    >
                  </li>
                </ul>
                <h3 class="mt-4" style="color: #1976d2">Tips for Success</h3>
                <ul>
                  <li>Practice coding regularly and build small projects.</li>
                  <li>
                    Read and experiment with code examples from documentation.
                  </li>
                  <li>Debug using browser dev tools and console.log.</li>
                  <li>Understand the "why" behind JavaScript quirks.</li>
                </ul>
              </div>
              <div
                id="nextBtnContainer"
                class="text-center mt-4"
                style="display: none"
              >
                <a
                  href="web-intermediate-html.html"
                  id="nextBtn"
                  class="btn btn-primary"
                  >Next</a
                >
              </div>
              <script>
                function speakTranscriptWithLadyVoice() {
                  const transcriptDiv =
                    document.getElementById("htmlTranscript");
                  // Get all transcript text nodes
                  let textNodes = [];
                  function collectTextNodes(node) {
                    if (node.nodeType === 3 && node.textContent.trim()) {
                      textNodes.push(node);
                    } else if (node.nodeType === 1) {
                      node.childNodes.forEach(collectTextNodes);
                    }
                  }
                  collectTextNodes(transcriptDiv);
                  // Build full text
                  let fullText = textNodes.map((n) => n.textContent).join(" ");
                  const utterance = new window.SpeechSynthesisUtterance(
                    fullText
                  );
                  utterance.rate = 1;
                  utterance.pitch = 1;
                  utterance.lang = "en-US";
                  function setLadyVoiceAndSpeak() {
                    const voices = window.speechSynthesis.getVoices();
                    const ladyVoice = voices.find(
                      (v) =>
                        v.lang.startsWith("en") &&
                        v.name &&
                        (v.name.toLowerCase().includes("female") ||
                          v.name.toLowerCase().includes("woman") ||
                          v.name.toLowerCase().includes("samantha") ||
                          v.name.toLowerCase().includes("victoria") ||
                          v.name.toLowerCase().includes("susan") ||
                          v.name.toLowerCase().includes("zira") ||
                          v.name.toLowerCase().includes("eva") ||
                          v.name.toLowerCase().includes("emma") ||
                          v.name
                            .toLowerCase()
                            .includes("google uk english female"))
                    );
                    if (ladyVoice) utterance.voice = ladyVoice;
                    window.speechSynthesis.cancel();
                    window.speechSynthesis.speak(utterance);
                  }
                  // Highlight words as spoken and update progress bar
                  utterance.onboundary = function (event) {
                    if (event.name === "word") {
                      let charIndex = event.charIndex;
                      let wordLength =
                        event.charLength ||
                        (event.utterance.text.split(" ")[event.charIndex] || "")
                          .length;
                      // Remove previous highlights
                      transcriptDiv
                        .querySelectorAll(".tts-highlight")
                        .forEach((el) => {
                          el.classList.remove("tts-highlight");
                        });
                      // Find and highlight the word
                      let count = 0;
                      for (let node of textNodes) {
                        let nodeText = node.textContent;
                        if (charIndex < count + nodeText.length) {
                          let relIdx = charIndex - count;
                          let before = nodeText.slice(0, relIdx);
                          let word = nodeText.slice(
                            relIdx,
                            relIdx + wordLength
                          );
                          let after = nodeText.slice(relIdx + wordLength);
                          let span = document.createElement("span");
                          span.className = "tts-highlight";
                          span.textContent = word;
                          let frag = document.createDocumentFragment();
                          if (before)
                            frag.appendChild(document.createTextNode(before));
                          frag.appendChild(span);
                          if (after)
                            frag.appendChild(document.createTextNode(after));
                          node.parentNode.replaceChild(frag, node);
                          break;
                        }
                        count += nodeText.length;
                      }
                      // Progress bar logic
                      const progressBar =
                        document.getElementById("htmlProgressBar");
                      const totalLength = utterance.text.length;
                      let percent = Math.min(
                        100,
                        Math.round((charIndex / totalLength) * 100)
                      );
                      progressBar.style.width = percent + "%";
                      progressBar.setAttribute("aria-valuenow", percent);
                      progressBar.textContent = percent + "%";
                    }
                  };
                  // Remove highlight on end
                  utterance.onend = function () {
                    transcriptDiv
                      .querySelectorAll(".tts-highlight")
                      .forEach((el) => {
                        el.classList.remove("tts-highlight");
                      });
                    document.getElementById("nextBtnContainer").style.display =
                      "block";
                    // Fill progress bar to 100%
                    const progressBar =
                      document.getElementById("htmlProgressBar");
                    progressBar.style.width = "100%";
                    progressBar.setAttribute("aria-valuenow", 100);
                    progressBar.textContent = "100%";
                  };
                  // If voices are not loaded yet, wait for them
                  if (window.speechSynthesis.getVoices().length === 0) {
                    window.speechSynthesis.onvoiceschanged =
                      setLadyVoiceAndSpeak;
                    window.speechSynthesis.getVoices();
                  } else {
                    setLadyVoiceAndSpeak();
                  }
                }
                // Add highlight style
                const style = document.createElement("style");
                style.textContent =
                  ".tts-highlight { background: #ffe066; color: #222; border-radius: 3px; padding: 0 2px; }";
                document.head.appendChild(style);

                // Start/Stop Course buttons logic
                const video = document.getElementById("courseVideo");
                // Pause video on page load
                window.addEventListener("DOMContentLoaded", function () {
                  if (video) {
                    video.pause();
                  }
                });
                document.getElementById("startCourseBtn").onclick =
                  function () {
                    if (video) {
                      video.muted = true;
                      video.play();
                    }
                    speakTranscriptWithLadyVoice();
                    document.getElementById("nextBtnContainer").style.display =
                      "none";
                    // Reset progress bar
                    const progressBar =
                      document.getElementById("htmlProgressBar");
                    progressBar.style.width = "0%";
                    progressBar.setAttribute("aria-valuenow", 0);
                    progressBar.textContent = "0%";
                  };
                document.getElementById("stopCourseBtn").onclick = function () {
                  if (video) {
                    video.pause();
                  }
                  window.speechSynthesis.cancel();
                };
              </script>
            </div>
          </div>
          <div class="row g-4">
            <!-- JavaScript Intermediate Quiz -->
            <section id="html-quiz-section" class="mt-5">
              <h2 class="mb-3 text-center" style="color: #1976d2">
                JavaScript Intermediate Quiz
              </h2>
              <form id="htmlQuizForm">
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    1. What is a closure in JavaScript?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      id="q1a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q1a1"
                      >A function having access to its own scope only</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      id="q1a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q1a2"
                      >A function having access to its own scope, parent scope,
                      and global scope</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      id="q1a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q1a3"
                      >A function that closes the browser</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q1"
                      id="q1a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q1a4"
                      >A function that returns another function</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint1"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    2. Which keyword is used to declare a block-scoped variable
                    in ES6?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      id="q2a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q2a1">var</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      id="q2a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q2a2">let</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      id="q2a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q2a3">const</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q2"
                      id="q2a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q2a4">static</label>
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint2"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    3. What does the spread operator (...) do?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      id="q3a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q3a1"
                      >Spreads string into characters</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      id="q3a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q3a2"
                      >Expands iterable objects into individual elements</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      id="q3a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q3a3"
                      >Spreads numbers into digits</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q3"
                      id="q3a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q3a4"
                      >None of the above</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint3"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    4. How do you create a class in ES6?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      id="q4a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q4a1"
                      >function MyClass() {}</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      id="q4a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q4a2"
                      >class MyClass {}</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      id="q4a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q4a3"
                      >object MyClass {}</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q4"
                      id="q4a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q4a4"
                      >defineClass MyClass {}</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint4"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    5. What does 'this' keyword refer to in a regular function
                    (not arrow function)?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      id="q5a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q5a1"
                      >The global object or the object that called the
                      function</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      id="q5a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q5a2"
                      >Always the global object</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      id="q5a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q5a3"
                      >Always undefined</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q5"
                      id="q5a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q5a4"
                      >The parent function</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint5"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    6. Which method is used to fetch data from an API in modern
                    JavaScript?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      id="q6a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q6a1">getData()</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      id="q6a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q6a2">fetch()</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      id="q6a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q6a3">request()</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q6"
                      id="q6a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q6a4">apiCall()</label>
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint6"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    7. What does async/await help you do in JavaScript?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      id="q7a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q7a1"
                      >Write asynchronous code that looks synchronous</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      id="q7a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q7a2"
                      >Make code run faster</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      id="q7a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q7a3"
                      >Pause code execution forever</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q7"
                      id="q7a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q7a4"
                      >None of the above</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint7"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    8. How do you handle errors in JavaScript?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      id="q8a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q8a1"
                      >try...catch</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      id="q8a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q8a2"
                      >errorHandler()</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      id="q8a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q8a3"
                      >catchError()</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q8"
                      id="q8a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q8a4"
                      >None of the above</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint8"
                    style="display: none"
                  ></div>
                </div>
                <div class="mb-4">
                  <div class="fw-bold mb-2">
                    9. Which of the following is NOT a valid way to declare a
                    function in JavaScript?
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      id="q9a1"
                      value="0"
                    />
                    <label class="form-check-label" for="q9a1"
                      >function myFunc() {}</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      id="q9a2"
                      value="1"
                    />
                    <label class="form-check-label" for="q9a2"
                      >const myFunc = function() {}</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      id="q9a3"
                      value="2"
                    />
                    <label class="form-check-label" for="q9a3"
                      >let myFunc = () => {}</label
                    >
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="q9"
                      id="q9a4"
                      value="3"
                    />
                    <label class="form-check-label" for="q9a4"
                      >function:myFunc() {}</label
                    >
                  </div>
                  <div
                    class="text-danger small mt-1"
                    id="hint9"
                    style="display: none"
                  ></div>
                </div>
                <div class="text-center mb-4">
                  <button
                    type="submit"
                    class="btn btn-primary"
                    id="submitQuizBtn"
                  >
                    Submit Answers
                  </button>
                  <a
                    href="web-intermediate-bootstrap.html"
                    class="btn btn-success ms-2"
                    id="nextQuizBtn"
                    style="display: none"
                    >Next</a
                  >
                </div>
                <div id="quizResult" class="mt-3 text-center"></div>
              </form>
            </section>
            <script>
              // Restore JS intermediate quiz progress from localStorage
              window.addEventListener("DOMContentLoaded", function () {
                const allProgress = JSON.parse(
                  localStorage.getItem("allQuizProgress") || "{}"
                );
                const intermediate = allProgress["intermediate"] || {};
                const saved = intermediate["js"] || {};
                for (let i = 1; i <= 9; i++) {
                  if (saved["q" + i] !== undefined) {
                    const radio = document.getElementById(
                      "q" + i + "a" + (Number(saved["q" + i]) + 1)
                    );
                    if (radio) radio.checked = true;
                  }
                }
                // If completed, show Next button
                if (saved.completed) {
                  var nextBtn = document.getElementById("nextQuizBtn");
                  if (nextBtn) nextBtn.style.display = "inline-block";
                }
                // Update sidebar if completed
                if (saved.completed) {
                  const jsLink = document.querySelector(
                    "a[href='web-intermediate-js.html']"
                  );
                  if (jsLink) {
                    jsLink.style.background = "#d1fae5";
                    jsLink.style.color = "#059669";
                    jsLink.style.fontWeight = "700";
                    jsLink.style.borderRadius = "8px";
                    if (!jsLink.querySelector(".quiz-complete-tick")) {
                      const tick = document.createElement("span");
                      tick.className = "quiz-complete-tick ms-2";
                      tick.innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-check2' viewBox='0 0 16 16'><path d='M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0'/></svg>`;
                      jsLink.appendChild(tick);
                    }
                  }
                }
              });

              // Quiz form submission: save progress, update sidebar, show Next button
              document.getElementById("htmlQuizForm").onsubmit = function (e) {
                e.preventDefault();
                let score = 0;
                // Correct answers (index): 1,1,1,1,0,1,0,0,3
                const answers = ["1", "1", "1", "1", "0", "1", "0", "0", "3"];
                let progress = {};
                for (let i = 1; i <= 9; i++) {
                  const selected = document.querySelector(
                    'input[name="q' + i + '"]:checked'
                  );
                  if (!selected) {
                    document.getElementById("hint" + i).textContent =
                      "Please select an answer.";
                    document.getElementById("hint" + i).style.display = "block";
                  } else if (selected.value === answers[i - 1]) {
                    score++;
                    document.getElementById("hint" + i).style.display = "none";
                    progress["q" + i] = selected.value;
                  } else {
                    document.getElementById("hint" + i).textContent =
                      "Try again!";
                    document.getElementById("hint" + i).style.display = "block";
                    progress["q" + i] = selected.value;
                  }
                }
                const resultDiv = document.getElementById("quizResult");
                if (score === 9) {
                  resultDiv.innerHTML = `<span class='fw-bold text-success'>All answers correct! ðŸŽ‰</span>`;
                  progress.completed = true;
                  // Make JS sidebar link green and add tick
                  const jsLink = document.querySelector(
                    "a[href='web-intermediate-js.html']"
                  );
                  if (jsLink) {
                    jsLink.style.background = "#d1fae5";
                    jsLink.style.color = "#059669";
                    jsLink.style.fontWeight = "700";
                    jsLink.style.borderRadius = "8px";
                    if (!jsLink.querySelector(".quiz-complete-tick")) {
                      const tick = document.createElement("span");
                      tick.className = "quiz-complete-tick ms-2";
                      tick.innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-check2' viewBox='0 0 16 16'><path d='M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0'/></svg>`;
                      jsLink.appendChild(tick);
                    }
                  }
                  // Show Next button
                  var nextBtn = document.getElementById("nextQuizBtn");
                  if (nextBtn) nextBtn.style.display = "inline-block";
                } else {
                  resultDiv.innerHTML = `<span class='fw-bold text-danger'>You scored ${score} out of 9. See hints above.`;
                  var nextBtn = document.getElementById("nextQuizBtn");
                  if (nextBtn) nextBtn.style.display = "none";
                }
                // Merge with existing progress in localStorage (do not erase previous)
                let allProgress = JSON.parse(
                  localStorage.getItem("allQuizProgress") || "{}"
                );
                if (!allProgress.intermediate) allProgress.intermediate = {};
                allProgress.intermediate.js = progress;
                localStorage.setItem(
                  "allQuizProgress",
                  JSON.stringify(allProgress)
                );
              };
            </script>
          </div>
        </main>
        <div class="d-flex justify-content-end flex-row fixed-bottom p-3">
          <a href="welcome.html" class="btn btn-primary">Back to Home</a>
        </div>
        <footer
          class="text-secondary text-center py-3"
          style="
            background: #fff;
            border-top: 1px solid #e0e0e0;
            margin-top: 2rem;
          "
        >
          Â© 2025, <strong>CodeMateAI Foundation</strong>
        </footer>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // filepath: c:\Users\kumar\OneDrive\Documents\eduAI website project\public\web-intermediate-js.html
      document.addEventListener("DOMContentLoaded", function () {
        // Map sidebar links to their progress keys
        const courseMap = {
          "web-intermediate-html.html": "html",
          "web-intermediate-css.html": "css",
          "web-intermediate-bootstrap.html": "bootstrap",
          "web-intermediate-js.html": "js",
        };

        // Get all progress from localStorage
        let allProgress = {};
        try {
          allProgress = JSON.parse(
            localStorage.getItem("allQuizProgress") || "{}"
          );
        } catch (e) {
          allProgress = {};
        }
        const intermediate = allProgress["intermediate"] || {};

        // Loop through sidebar links and update their status
        Object.entries(courseMap).forEach(([href, key]) => {
          const link = document.querySelector(`a[href='${href}']`);
          if (!link) return;
          if (intermediate[key] && intermediate[key].completed) {
            link.style.background = "#d1fae5";
            link.style.color = "#059669";
            link.style.fontWeight = "700";
            link.style.borderRadius = "8px";
            if (!link.querySelector(".quiz-complete-tick")) {
              const tick = document.createElement("span");
              tick.className = "quiz-complete-tick ms-2";
              tick.innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-check2' viewBox='0 0 16 16'><path d='M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0'/></svg>`;
              link.appendChild(tick);
            }
          } else {
            // Reset to default style if not completed
            link.style.background = "";
            link.style.color = "#1976d2";
            link.style.fontWeight = "500";
            link.style.borderRadius = "";
            const tick = link.querySelector(".quiz-complete-tick");
            if (tick) tick.remove();
          }
        });
      });
    </script>
  </body>
</html>


