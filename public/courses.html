<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      crossorigin="anonymous"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Popular Courses | eduAI</title>
    <link rel="stylesheet" href="welcome.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <style>
      body {
        background: linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%);
        min-height: 100vh;
      }
      h1 {
        font-weight: 700;
        color: #2c3e50;
        letter-spacing: 1px;
      }
      .card {
        border: none;
        border-radius: 1rem;
        transition: transform 0.2s, box-shadow 0.2s;
        background: #fff;
      }
      .card:hover {
        transform: translateY(-8px) scale(1.03);
        box-shadow: 0 8px 32px rgba(44, 62, 80, 0.15);
      }
      .card-title {
        color: #007bff;
        font-weight: 600;
        font-size: 1.25rem;
      }
      .card-text {
        color: #34495e;
        font-size: 1rem;
      }
      .btn-primary {
        background: linear-gradient(90deg, #007bff 0%, #00c6ff 100%);
        border: none;
        font-weight: 500;
        box-shadow: 0 2px 8px rgba(0, 123, 255, 0.12);
      }
      .btn-primary:hover {
        background: linear-gradient(90deg, #0056b3 0%, #00aaff 100%);
      }
      .row.g-4 {
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var sidebar = document.getElementById("sidebarMenu");
        var closeBtn = document.getElementById("sidebarClose");
        var toggleBtn = document.querySelector(".navbar-toggler");
        // Only toggle sidebar on mobile
        function isMobile() {
          return window.innerWidth < 768;
        }
        if (toggleBtn && sidebar) {
          toggleBtn.addEventListener("click", function (e) {
            e.preventDefault();
            if (isMobile()) {
              sidebar.classList.add("active");
            }
          });
        }
        if (closeBtn && sidebar) {
          closeBtn.addEventListener("click", function (e) {
            e.preventDefault();
            if (isMobile()) {
              sidebar.classList.remove("active");
            }
          });
        }
        // Close sidebar when clicking a nav link (mobile only)
        var navLinks = sidebar.querySelectorAll(".nav-link");
        navLinks.forEach(function (link) {
          link.addEventListener("click", function () {
            if (isMobile()) {
              sidebar.classList.remove("active");
            }
          });
        });
      });
    </script>
    <div class="container-fluid" style="background: #f5f7fa; min-height: 100vh">
      <div class="row">
        <!-- Sidebar: Responsive, custom toggle -->
        <div id="sidebarMenu" class="sidebar-menu">
          <div
            class="sidebar-header d-flex d-md-none justify-content-between align-items-center px-3 py-2"
            style="border-bottom: 1px solid #e0e0e0"
          >
            <span style="font-weight: 600; color: #1976d2"></span>
            <button
              id="sidebarClose"
              class="btn btn-sm btn-outline-secondary"
              aria-label="Close sidebar"
            >
              <i class="fa fa-times" style="font-size: 1.5rem"></i>
            </button>
          </div>
          <div class="d-flex flex-column align-items-center mb-4 pt-3">
            <img
              src="edu_logo-welcome.png"
              alt="EduSkills Academy"
              style="width: 120px"
            />
          </div>
          <ul class="nav flex-column">
            <li class="nav-item mb-2">
              <a
                class="nav-link active"
                style="
                  color: #1976d2;
                  font-weight: 600;
                  background: #e3eafc;
                  border-radius: 8px;
                "
                href="#"
                >Dashboard</a
              >
            </li>
            <li class="nav-item mb-2">
              <a
                class="nav-link"
                style="color: #34495e; font-weight: 500"
                href="#"
                >Certificates</a
              >
            </li>
          </ul>
        </div>
        <!-- Topbar for mobile toggle -->
        <header
          class="navbar navbar-light bg-white d-md-none px-3"
          style="border-bottom: 1px solid #e0e0e0"
        >
          <button
            class="navbar-toggler"
            type="button"
            id="sidebarToggle"
            aria-label="Toggle navigation"
            style="display: inline-block"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <span class="navbar-brand mb-0 h1">Popular Courses</span>
        </header>
        <style>
          .sidebar-menu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 240px;
            background: #fff;
            border-right: 1px solid #e0e0e0;
            z-index: 1040;
            transition: transform 0.3s ease;
          }
          @media (max-width: 767.98px) {
            .sidebar-menu {
              transform: translateX(-100%);
            }
            .sidebar-menu.active {
              transform: translateX(0);
            }
            main {
              padding-top: 56px !important;
            }
          }
          @media (min-width: 768px) {
            .sidebar-menu {
              transform: none !important;
            }
          }
        </style>
        <script>
          // Sidebar toggle for mobile
          document.addEventListener("DOMContentLoaded", function () {
            var sidebar = document.getElementById("sidebarMenu");
            var toggleBtn = document.getElementById("sidebarToggle");
            var closeBtn = document.getElementById("sidebarClose");
            if (toggleBtn && sidebar) {
              toggleBtn.addEventListener("click", function (e) {
                e.preventDefault();
                sidebar.classList.add("active");
                toggleBtn.style.display = "none";
              });
            }
            if (closeBtn && sidebar) {
              closeBtn.addEventListener("click", function (e) {
                e.preventDefault();
                sidebar.classList.remove("active");
                toggleBtn.style.display = "inline-block";
              });
            }
            // Close sidebar when clicking a nav link (mobile only)
            var navLinks = sidebar.querySelectorAll(".nav-link");
            navLinks.forEach(function (link) {
              link.addEventListener("click", function () {
                if (window.innerWidth < 768) {
                  sidebar.classList.remove("active");
                  toggleBtn.style.display = "inline-block";
                }
              });
            });
          });
        </script>
        <!-- Main Content -->
        <main
          class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-5"
          style="margin-left: auto"
        >
          <h1 class="mb-4 text-center d-none d-md-block">Popular Courses</h1>
          <div class="row g-4">
            <!-- Web Development -->
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title">Web Development - Beginner</h5>
                  <p class="card-text">
                    Start with HTML, CSS, and basic JavaScript. Build simple
                    websites and learn responsive design.
                  </p>
                  <a
                    href="#web-beginner"
                    class="btn btn-primary"
                    id="enroll-web-beginner"
                    >Enroll Beginner course</a
                  >
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title">Web Development - Intermediate</h5>
                  <p class="card-text">
                    Master frameworks like React, Vue, or Angular. Work with
                    APIs and build dynamic web apps.
                  </p>
                  <a
                    href="#web-intermediate"
                    class="btn btn-primary"
                    id="enroll-web-intermediate"
                    >Enroll Intermediate course</a
                  >
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title">Web Development - Advanced</h5>
                  <p class="card-text">
                    Learn DevOps, scalable architectures, security, and
                    contribute to open source projects.
                  </p>
                  <a
                    href="#web-advanced"
                    class="btn btn-primary"
                    id="enroll-web-advanced"
                    >Enroll Advanced course</a
                  >
                </div>
              </div>
            </div>
            <!-- Data Science -->
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title">Data Science - Beginner</h5>
                  <p class="card-text">
                    Learn Python or R basics, data wrangling, and simple
                    visualizations.
                  </p>
                  <a
                    href="#ds-beginner"
                    class="btn btn-primary"
                    id="enroll-ds-beginner"
                    >Enroll Beginner course</a
                  >
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title">Data Science - Intermediate</h5>
                  <p class="card-text">
                    Master Pandas, NumPy, Matplotlib, and start with machine
                    learning algorithms.
                  </p>
                  <a
                    href="#ds-intermediate"
                    class="btn btn-primary"
                    id="enroll-ds-intermediate"
                    >Enroll Intermediate course</a
                  >
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title">Data Science - Advanced</h5>
                  <p class="card-text">
                    Deep learning, NLP, Kaggle competitions, and advanced ML
                    projects.
                  </p>
                  <a
                    href="#ds-advanced"
                    class="btn btn-primary"
                    id="enroll-ds-advanced"
                    >Enroll Advanced course</a
                  >
                </div>
              </div>
            </div>
            <!-- more courses soon -->
            <div class="col-md-4">
              <div class="card h-100 shadow-sm mb-4">
                <div class="card-body">
                  <h5 class="card-title"></h5>
                  <p class="card-text">More courses will be added soon!</p>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
      <div class="d-flex justify-content-end flex-row fixed-bottom p-3">
        <a href="welcome.html" class="btn btn-primary">Back to Home</a>
      </div>
      <footer
        class="text-secondary text-center py-3"
        style="
          background: #fff;
          border-top: 1px solid #e0e0e0;
          margin-top: 2rem;
        "
      >
        © 2025, <strong>CodeMateAI Foundation</strong>
      </footer>
    </div>

    <script>
      // Enroll/View Course button logic
      const courseButtons = [
        {
          id: "enroll-web-beginner",
          course: {
            id: "web-beginner",
            title: "Web Development - Beginner",
            desc: "Start with HTML, CSS, and basic JavaScript. Build simple websites and learn responsive design.",
          },
        },
        {
          id: "enroll-web-intermediate",
          course: {
            id: "web-intermediate",
            title: "Web Development - Intermediate",
            desc: "Master frameworks like React, Vue, or Angular. Work with APIs and build dynamic web apps.",
          },
        },
        {
          id: "enroll-web-advanced",
          course: {
            id: "web-advanced",
            title: "Web Development - Advanced",
            desc: "Learn DevOps, scalable architectures, security, and contribute to open source projects.",
          },
        },
        {
          id: "enroll-ds-beginner",
          course: {
            id: "ds-beginner",
            title: "Data Science - Beginner",
            desc: "Learn Python or R basics, data wrangling, and simple visualizations.",
          },
        },
        {
          id: "enroll-ds-intermediate",
          course: {
            id: "ds-intermediate",
            title: "Data Science - Intermediate",
            desc: "Master Pandas, NumPy, Matplotlib, and start with machine learning algorithms.",
          },
        },
        {
          id: "enroll-ds-advanced",
          course: {
            id: "ds-advanced",
            title: "Data Science - Advanced",
            desc: "Deep learning, NLP, Kaggle competitions, and advanced ML projects.",
          },
        },
      ];
      function getLearnings() {
        return JSON.parse(localStorage.getItem("myLearnings") || "[]");
      }
      function addToLearnings(course) {
        let learnings = getLearnings();
        if (!learnings.some((c) => c.id === course.id)) {
          learnings.push(course);
          localStorage.setItem("myLearnings", JSON.stringify(learnings));
        }
      }
      function updateButtons() {
        let learnings = getLearnings();
        courseButtons.forEach(({ id, course }) => {
          const btn = document.getElementById(id);
          if (!btn) return;
          if (learnings.some((c) => c.id === course.id)) {
            btn.textContent = "View Course";
            btn.classList.remove("btn-primary");
            btn.classList.add("btn-success");
            btn.onclick = function () {
              // Placeholder: go to course details page
              alert("Course details coming soon!");
            };
          } else {
            btn.textContent = id.includes("web")
              ? `Enroll ${course.title.split(" - ")[1]} course`
              : `Enroll ${course.title.split(" - ")[1]} course`;
            btn.classList.remove("btn-success");
            btn.classList.add("btn-primary");
            btn.onclick = function () {
              addToLearnings(course);
              updateButtons();
              window.location.href = "my-learnings.html";
            };
          }
        });
      }
      updateButtons();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      @media (max-width: 767.98px) {
        #sidebarMenu {
          position: fixed;
          top: 0;
          left: 0;
          height: 100vh;
          width: 70vw;
          max-width: 320px;
          z-index: 1040;
        }
        main {
          padding-top: 56px !important;
        }
      }
      @media (max-width: 991.98px) {
        .card {
          margin-bottom: 1.5rem;
        }
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
